<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game for Even</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }
        body {
            width: 500px;
            margin: 0 auto;
        }
        canvas {
            background: #eee;
            display: block;
            margin: 0 auto;
        }

    </style>
</head>
<body>
    <h1>Score <span id="score"></span></h1>
    <canvas id="game" width="480" height="320">No worky</canvas>


    <script>
		const canvas = document.getElementById("game");
        const ctx = canvas.getContext("2d");
		ctx.translate(480/2, 320/ 2);
		ctx.save()

        const oneDegreeAsRadian = 0.01745329

        let currentRadian = 0
        let numberOfRotations = 0

		function drawCircle(numberOfSections) {
			const sizeOfLine = (Math.PI * 2) / numberOfSections
            const sizeOfHole = 0.3141592653589793
        	for(let i = 0; i < numberOfSections; i++) {
        		const start = (i*sizeOfLine) + sizeOfHole
        		const stop = (i === numberOfSections)
                    ? Math.PI*2
                    : (i + 1) * sizeOfLine
                const color = (i+1 === numberOfSections) ? 'red' : 'blue'
			    drawArc(start, stop, color)
				ctx.stroke()
            }
        }

        function drawArc(start, stop, color = 'blue') {
			ctx.beginPath();
			ctx.arc(0, 0, 100, start, stop)
			ctx.strokeStyle = color
        }

        function addRadian(baseRadian, numberToAdd) {
            const combinedRadian = baseRadian + numberToAdd
            return (baseRadian > 6.283185)
                ? 0
                : combinedRadian
		}


        function rotate() {
			const sectionsForCircle = numberOfRotations + 2
			ctx.beginPath()
			ctx.clearRect(-101, -101, 202, 202)
            ctx.closePath()
			ctx.rotate(oneDegreeAsRadian*-1)
            ctx.save()
        	drawCircle(sectionsForCircle < 10 ? sectionsForCircle : 10)
            currentRadian = addRadian(currentRadian, oneDegreeAsRadian)
            numberOfRotations = currentRadian === 0 ? numberOfRotations + 1 : numberOfRotations
            ctx.restore()
            
        	window.requestAnimationFrame(rotate)
        }
        rotate()
    </script>
</body>
</html>
